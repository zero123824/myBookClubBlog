{"componentChunkName":"component---src-templates-blog-post-js","path":"/Spring webflux/Spring webflux/","webpackCompilationHash":"084092fe2c51debd47c4","result":{"data":{"site":{"siteMetadata":{"title":"Gatsby Starter Blog","author":"Kyle Mathews"}},"markdownRemark":{"id":"c3d9c3f8-7605-5d12-b539-51a6c16c933c","excerpt":"一、什麼是spring webflux 在spring 5中正式發表，相比於我們常用的同步、阻斷式Spring MVC，Spring boot，webflux是一種非同步、非阻斷、reactive、函數式的java web框架。 以 Reactor library為基礎，實現了Reactive Streams…","html":"<h1>一、什麼是spring webflux</h1>\n<p>在spring 5中正式發表，相比於我們常用的同步、阻斷式Spring MVC，Spring boot，webflux是一種非同步、非阻斷、reactive、函數式的java web框架。</p>\n<p>以 Reactor library為基礎，實現了Reactive Streams規範。</p>\n<p>相關觀念:RxJava/RxJava 2，或是Java 9的Flow API、functinal programming、訂閱者模式、生產消費者模式。</p>\n<p>其他相似的框架:Vert.x</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">雖然Web Flux的API在某些地方，確實提供了阻斷的選項，若單純只是試著將基於Web MVC的應用程式，改寫為套用Web Flux，並不會有任何益處，反而會窮於應付如何在Web Flux實現對應的方案。例如，此時，Spring Security顯然就不能用了，畢竟是Spring基於Servlet的安全方案，開發者必須想辦法套用Spring Security Reactive；而且，在儲存方案上，也不是直接採用Spring Data，而是Spring Data Reactive等。</code></pre></div>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/myBookClubBlog/static/51d2f374792fd75c99e2e99f95c3581f/c9651/WebFlux-1.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 83.55501813784764%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAARABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAECBQP/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAv/aAAwDAQACEAMQAAAB6zpWicxqCLl1IP/EABsQAAICAwEAAAAAAAAAAAAAAAABAzEREhMh/9oACAEBAAEFAtJ86THOYa9ZgdulX//EABYRAQEBAAAAAAAAAAAAAAAAABEAEP/aAAgBAwEBPwEjf//EABcRAAMBAAAAAAAAAAAAAAAAAAABEhD/2gAIAQIBAT8BlErf/8QAGBAAAgMAAAAAAAAAAAAAAAAAAEICIDH/2gAIAQEABj8C2Aot/wD/xAAcEAACAgIDAAAAAAAAAAAAAAAAARExIZEQQWH/2gAIAQEAAT8hc2LO2PHncT1e54BIUiwss4KD/9oADAMBAAIAAwAAABAM+Dz/xAAXEQADAQAAAAAAAAAAAAAAAAAAEVEQ/9oACAEDAQE/EFgs3//EABYRAQEBAAAAAAAAAAAAAAAAAGEAEP/aAAgBAgEBPxAIN//EACAQAQACAQIHAAAAAAAAAAAAAAEAESEQQTFRYXGBodH/2gAIAQEAAT8QCoqVWc+0PSq93Bl8HOj+Sh05O9SsCYKMEZDbxWg4c9Cf/9k=&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"WebFlux-1\" title=\"WebFlux-1\" src=\"/myBookClubBlog/static/51d2f374792fd75c99e2e99f95c3581f/c739e/WebFlux-1.jpg\" srcset=\"/myBookClubBlog/static/51d2f374792fd75c99e2e99f95c3581f/8ee9c/WebFlux-1.jpg 148w,\n/myBookClubBlog/static/51d2f374792fd75c99e2e99f95c3581f/ebbe7/WebFlux-1.jpg 295w,\n/myBookClubBlog/static/51d2f374792fd75c99e2e99f95c3581f/c739e/WebFlux-1.jpg 590w,\n/myBookClubBlog/static/51d2f374792fd75c99e2e99f95c3581f/c9651/WebFlux-1.jpg 827w\" sizes=\"(max-width: 590px) 100vw, 590px\" loading=\"lazy\">\n  </a>\n    </span>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/myBookClubBlog/static/7e3967e8e7e2103146784d642b32c0a4/4831d/WebFlux-2.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 57.041139240506325%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAIBAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHaS6EBwf/EABcQAQEBAQAAAAAAAAAAAAAAAAEAEBH/2gAIAQEAAQUCcGbmf//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABgQAQEBAQEAAAAAAAAAAAAAAAEAEUEx/9oACAEBAAE/IUqwr2TPIFg5F//aAAwDAQACAAMAAAAQYO//xAAWEQEBAQAAAAAAAAAAAAAAAAABECH/2gAIAQMBAT8QDZ//xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAgEBPxCn/8QAGRABAQEBAQEAAAAAAAAAAAAAAREAIVFB/9oACAEBAAE/EKkyfB1VVzxz+kx1VhfcugAcAIG//9k=&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"WebFlux-2\" title=\"WebFlux-2\" src=\"/myBookClubBlog/static/7e3967e8e7e2103146784d642b32c0a4/c739e/WebFlux-2.jpg\" srcset=\"/myBookClubBlog/static/7e3967e8e7e2103146784d642b32c0a4/8ee9c/WebFlux-2.jpg 148w,\n/myBookClubBlog/static/7e3967e8e7e2103146784d642b32c0a4/ebbe7/WebFlux-2.jpg 295w,\n/myBookClubBlog/static/7e3967e8e7e2103146784d642b32c0a4/c739e/WebFlux-2.jpg 590w,\n/myBookClubBlog/static/7e3967e8e7e2103146784d642b32c0a4/5413e/WebFlux-2.jpg 885w,\n/myBookClubBlog/static/7e3967e8e7e2103146784d642b32c0a4/4efde/WebFlux-2.jpg 1180w,\n/myBookClubBlog/static/7e3967e8e7e2103146784d642b32c0a4/4831d/WebFlux-2.jpg 1264w\" sizes=\"(max-width: 590px) 100vw, 590px\" loading=\"lazy\">\n  </a>\n    </span>\n<h1>二、Reactive programing in Java</h1>\n<p>Reactive Programming is a general name for types of programming designed to respond to change, such as incoming data and user interaction. You don’t need to consider this for now as 1 is a solution to this.</p>\n<p>其他語言:ReactJS…</p>\n<p>較常見的是RxJava 和 RxJava 2。另外一個是新的reactive programing repository -> Reactor</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Asynchronous vs Non-blocking\n1. Blocking and Synchronous. Mean the same thing: you call the API, it hangs up the thread until it has some kind of answer and returns it to you.\n2. Non-blocking. Means that if an answer can’t be returned rapidly, the API returns immediately with an error and does nothing else. So there must be some related way to query whether the API is ready to be called (that is, to simulate a wait in an efficient way, to avoid manual polling in a tight loop).\n3. Asynchronous. Means that the API always returns immediately, having started a “background” effort to fulfil your request, so there must be some related way to obtain the result.</code></pre></div>\n<h1>三、基本設定</h1>\n<h3>maven install</h3>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token comment\">&lt;!-- web flux --></span>\n<span class=\"token comment\">&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-webflux --></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span>    \n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.springframework.boot<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span>    \n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>spring-boot-starter-webflux<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span>    \n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>2.1.6.RELEASE<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h1>四、簡易範例</h1>\n<h1>五、其他配合與應用</h1>\n<h1>六、參考資料</h1>\n<p><a href=\"https://www.ithome.com.tw/voice/128381\">從MVC到WebFlux</a></p>\n<p><a href=\"https://luminousmen.com/post/asynchronous-programming-blocking-and-non-blocking\">https://luminousmen.com/post/asynchronous-programming-blocking-and-non-blocking</a> </p>\n<p><a href=\"https://www.cnkirito.moe/comparing-rxjava/\">https://www.cnkirito.moe/comparing-rxjava/</a></p>\n<p><a href=\"https://www.ibm.com/developerworks/cn/java/j-cn-with-reactor-response-encode/index.html\">https://www.ibm.com/developerworks/cn/java/j-cn-with-reactor-response-encode/index.html</a></p>\n<p><a href=\"https://www.ibm.com/developerworks/cn/java/spring5-webflux-reactive/index.html\">https://www.ibm.com/developerworks/cn/java/spring5-webflux-reactive/index.html</a></p>\n<p><a href=\"https://stackoverflow.com/questions/51370463/spring-webflux-flux-how-to-publish-dynamically\">https://stackoverflow.com/questions/51370463/spring-webflux-flux-how-to-publish-dynamically</a></p>","frontmatter":{"title":"Spring webflux","date":"October 03, 2019","description":"介紹什麼是Spring webflux，簡單比較與Spring mvc的不同"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/Spring webflux/Spring webflux/","previous":{"fields":{"slug":"/new-beginnings/"},"frontmatter":{"title":"New Beginnings"}},"next":{"fields":{"slug":"/Java Reactor/Java Reactor/"},"frontmatter":{"title":""}}}}}