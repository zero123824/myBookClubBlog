{"componentChunkName":"component---src-templates-blog-post-js","path":"/java-backend/SpringMultiModules/","webpackCompilationHash":"54a8c2145f4533b269f5","result":{"data":{"site":{"siteMetadata":{"title":"程式讀書會文章分享部落格 Gatsby Starter Blog","author":"Jaime Chang"}},"markdownRemark":{"id":"210e3fa5-ac2a-59f2-a5d6-0a9164ccfd7d","excerpt":"一、intellij新增專案 使用intellij新建一個spring boot專案，如一般設定。\n完成後可以先值節application的main方法，確認新建成功。 二、新增模組 在專案下右鍵有個New -> Module，裡面可以決定module的名稱，finish後，child module會掛在parent…","html":"<h3>一、intellij新增專案</h3>\n<p>使用intellij新建一個spring boot專案，如一般設定。\n完成後可以先值節application的main方法，確認新建成功。</p>\n<h3>二、新增模組</h3>\n<p>在專案下右鍵有個New -> Module，裡面可以決定module的名稱，finish後，child module會掛在parent module底下。</p>\n<h3>三、搬移parent模組的內容</h3>\n<p>在parent這層是沒有src之類的java file，只有pom file定義了個模組間的關係。\n而要將Package中自動產生的名稱改為與parent一樣，因為web的應用程式類別的@SpringBootApplication的scanBasePacages屬性會設定為”parent的package name的package name”，spring boot會按照這個設定掃描物件為bean。</p>\n<h3>四、檢視module pom.xml檔</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">    &lt;modules&gt;\n        &lt;module&gt;entity&lt;/module&gt;\n    &lt;/modules&gt;</code></pre></div>\n<p>parent module的pom檔案裡面會新增modules的tag，裡面有相依的child module\n而在child module的pom.xml裡</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">    &lt;parent&gt;\n        &lt;artifactId&gt;multimodule&lt;/artifactId&gt;\n        &lt;groupId&gt;idv.jaime&lt;/groupId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;</code></pre></div>\n<p>有parent module的資訊</p>\n<h3>五、設定repository的resouce</h3>\n<p>當想要把與資料庫相關的orm，包括repository和domain vo拆開時，再次啟動applcation會發現找不到datasource的url設定，而明明已經在主要專案的application.properties中設定。\n這是因為沒有正確讀取到配置文件，需要在parent modules的pom檔中設定:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;build&gt;\n  &lt;resouces&gt;\n    &lt;directory&gt;\n  \n    &lt;/directory&gt;\n  &lt;/resouces&gt;\n&lt;/build&gt;</code></pre></div>\n<p>這樣的配置</p>","frontmatter":{"title":"Spring專案拆分多模組簡介","date":"September 30, 2020","description":"簡介Spring專案拆分多模組的方法步驟,以及注意事項"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/java-backend/SpringMultiModules/","previous":{"fields":{"slug":"/Gatsby/Gatby-todo/"},"frontmatter":{"title":"我的Gatsby還需要解決的問題(TODO)"}},"next":{"fields":{"slug":"/spring-boot/Spring-Security設定/"},"frontmatter":{"title":"Spring security設定"}}}}}